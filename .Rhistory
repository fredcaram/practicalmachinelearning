library("datasets")
iris
iris()
iris3
library("datasets")
demo()
plot.TukeyHSD
library(help = "datasets").
library(help = "datasets")
iris
crimtab
1+1
[1:10]
c(1:10)
pbinom(4, 5, 0.5)
pbinom(4, 5, 0.5, lower.tail = FALSE)
pbinom(3, 5, 0.5, lower.tail = FALSE)
ppois(100, 100 * 1)
ppois(10, 5 * 3)
qt(.975, df = 8) * 30 / 3
t.test(qt(.975, df = 8) * 30 / 3)
teste = qt(.975, df = 8) * 30 / 3
1200 + c(teste, -teste)
1100 + c(-teste, teste)
sd(-2)
qt(.975, df = 8)
-2 + qt(.975, df = 8)
-2 + c(-qt(.975, df = 8), qt(.975, df = 8))
rt(9, 8)
pt(qt(.975, df = 8), 8)
qt(.975, df = 8)
n1 <- n2 <- 10
x1 <- 3  ##new
x2 <- 5  ##old
s1 <- 0.6  ##new
s2 <- 0.68  ##old
spsq <- ( (n1 - 1) * s1^2 + (n2 - 1) * s2^2) / (n1 + n2 - 2)
2 + (-spsq, spsq)
2 + c(-spsq, spsq)
n1 <- n2 <- 10
x1 <- 3  ##new
x2 <- 5  ##old
s1 <- sqrt(0.6)  ##new
s2 <- sqrt(0.68)  ##old
spsq <- ( (n1 - 1) * s1^2 + (n2 - 1) * s2^2) / (n1 + n2 - 2)
2 + c(-spsq, spsq)
n1 <- n2 <- 10
x1 <- 3  ##new
x2 <- 5  ##old
v1 <- 0.6  ##new
v2 <- 0.68  ##old
spsq <- ( (n1 - 1) * v1 + (n2 - 1) * v2) / (n1 + n2 - 2)
2 + c(-spsq, spsq)
-2 + c(-spsq, spsq)
n1 <- n2 <- 10
x1 <- 3  ##new
x2 <- 5  ##old
v1 <- 0.6  ##new
v2 <- 0.68  ##old
spsq <- ( (n1 - 1) * v1 * 0.95 + (n2 - 1) * v2 * 0.95) / (n1 + n2 - 2)
-2 + c(-spsq, spsq)
qt(.975, df = 9) * spsq / 10
t.test(qt(.975, df = 9) * 0.6 / sqrt(10), qt(.975, df = 9) * 0.68 / sqrt(10), var.equal = TRUE)
n1 <- n2 <- 9
x1 <- -3  ##treated
x2 <- 1  ##placebo
s1 <- 1.5  ##treated
s2 <- 1.8  ##placebo
spsq <- ( (n1 - 1) * s1^2 + (n2 - 1) * s2^2) / (n1 + n2 - 2)
-3 - 1 + (c(-spsq, spqc) * qt(0.95, 8))
-3 - 1 + (c(-spsq, spsq) * qt(0.95, 8))
-3 - 1 + (c(-spsq, spsq) * 0.9)
-4 + c(-spsq, spsq)
sd = sqrt(spsq)
qt(.95, df = 8) * sd / sqrt(10)
-4 + c(-sd, sd)
qt(.90, df = 8) * sd / sqrt(10)
-4 + c(-sd, sd)
qt(.90, df = 8) * sd / 3
-4 + c(-sd, sd)
qt(.95, df = 8) * sd / 3
sd = sqrt(spsq * 0.9)
-4 + c(-sd, sd)
sd = sqrt(spsq * 0.95)
-4 + c(-sd, sd)
x1 = qt(.95, df = 8) * 1.5 / 3
x2 = qt(.95, df = 8) * 1.8 / 3
(-4 + c(-x1, x1)) - (1 + c(-x2, x2))
-4 + c(-x1, x1) - 1 + c(-x2, x2)
-4 - 1 + c-(x1-x2, x1+x2)
-4 - 1 + c(x1-x2, x1+x2)
-4 - 1 + c(-x1-x2, x1+x2)
sd = sqrt(spsq * 0.95)
-4 + c(-sd, sd)
-4 + c(-sd * 0.95, sd * 0.95)
-4 + c(-sd * 0.975, sd * 0.975)
sd = sqrt(spsq)
-2 + c(-1, 1) * qt(.95, 8) * sd / sqrt(9)
-4 + c(-1, 1) * qt(.95, 8) * sd / sqrt(9)
-4 + c(-1, 1) * qt(.975, 8) * sd / sqrt(9)
-4 + c(-1, 1) * qt(.975, 17) * sd / ((1/18) ^ 0.9)
-4 + c(-1, 1) * qt(.975, 17) * sd / sqrt(18)
-2 + c(-1, 1) * qt(.975, 17) * sd / sqrt(18)
-2 + c(-1, 1) * qt(.95, 17) * sd / sqrt(18)
-4 + c(-1, 1) * qt(.95, 17) * sd / sqrt(18)
-4 + c(-1, 1) * qt(.95, 7) * sd / sqrt(9)
-4 + c(-1, 1) * qt(.90, 7) * sd / sqrt(9)
-4 + c(-1, 1) * qt(.925, 7) * sd / sqrt(9)
-4 + c(-1, 1) * qt(.95, 16) * sd * (1/9 + 1/9) ^. 0.5
-4 + c(-1, 1) * qt(.95, 16) * sd * (1/9 + 1/9) ^ 0.5
qt(.975, 8)
n1 <- n2 <- 10
x1 <- 3  ##new
x2 <- 5  ##old
v1 <- 0.6  ##new
v2 <- 0.68  ##old
spsq <- ( (n1 - 1) * v1 * 0.95 + (n2 - 1) * v2 * 0.95) / (n1 + n2 - 2)
3 - 5 + c(-1, 1) * qt(.975, 18) * sqrt(spsq) * (1/10 + 1/10) ^ 0.5
x <- c(0.18, -1.54, 0.42, 0.95)
w <- c(2, 1, 3, 1)
mean(x * w)
mean(x)
mean(x %*% w)
sum(x*w)
sum(x*w)/4
sqrt(sum(x*w)/4)
sqrt(sum(x*w))
sqrt(sum(x*w))/4
mean(x / w)
mean(x * w) / sum(w)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
lm(x~y)
data(mtcars)
lm(weight ~ mpg, data = mtcars)
lm(mpg ~ wt, data = mtcars)
lm(y ~ x)
x <- c(8.58, 10.46, 9.01, 9.64, 8.86)
mn <- mean(x)
sd <- sd(x)
xn <- (x - mean) / sd
xn <- (x - mn) / sd
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
lm(y ~ x)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
mean(x)
x <- c(0.18, -1.54, 0.42, 0.95)
mean(x)
mean(x)/sum(w)
mean(x) * mean(w)
mean(x * w)
sqrt(mean(x * x * w))
mean(x / w)
mean(x ^2 * w)
mean(x^2)
mean(x^2)
mean(x^2 * w)
mean(x^2 * w) / sum(w)
sqrt(mean(x^2 * w) / sum(w))
x^2 * w / sum(w)
sum(x^2 * w) / sum(w)
sqrt(sum(x^2 * w) / sum(w))
sum(x^2)/4
sqrt(sum(x^2)/4)
sqrt(sum(x^2 *w))
sqrt(sum(x^2 * w))
sqrt(sum(x^2 * w) / sum(w))
sqrt(sum(x^2))
sqrt(sum(x^2 * w) / sum(w))
sqrt(sum(x^2 * w) / sum(w)) / 4
sqrt(sum(x^2 * w) / sum(w)/ 4)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
lm(y~x)
lm(y~x - 1)
x <- c(0.18, -1.54, 0.42, 0.95)
sqrt(sum(x^2 * w) / sum(w)/ 4)
sqrt(sum(x^2 * w) / sum(w))/4
sqrt(sum(x^2))/4
sqrt(sum(x^2 * w) / sum(w))/4
sqrt(sum(x^2 * w) / sum(w)/4)
sqrt((sum(x^2 * w) / sum(w)/4)
)
sqrt((sum(x^2 * w) / sum(w))
)
sqrt((sum(x^2 * w) / sum(w))/4
)
sqrt((sum(x^2 * w) / sum(w)))/4
sqrt((sum(x^2 * w) / sum(w)))/2
sqrt((mean(x^2 * w)))/4
sqrt((mean(x^2 * w)))
sqrt(mean(x^2 * w))
sqrt(mean(x^2 * w))/4
sqrt(mean(x^2 * w)/4)
sqrt(mean(x^2 * w))
mean(x^2 * w)
mean(x * w)
mean(x * w)/4
sqrt(mean(x^2 / w))
sqrt(mean(x^2 / w))/4
sqrt(mean(x^2 / w)/4)
sqrt(mean(x^2 / w))
mean(x)
sqrt(mean(x))
sqrt(mean(x * w))
sqrt(x * w))
sqrt(x * w)
x * w %^%.5
x * w ^ .5
mean(x * w ^ .5)
mean(x * w)
mean(x * w)/2
mean(x %*% w)
mean(x * w)
x * w
x^2 * w
men(x^2 * w)
mean(x^2 * w)
mean(x^2 * w)/4
sum(x * w)/sum(w)
fit <- lm(mpg~factor(cyl)+wt, data=mtcars)
summary(fit)
fit_2 <- lm(mpg~factor(cyl), data=mtcars)
summary(fit_2)
fit_2 <- lm(mpg~factor(cyl) * wt, data=mtcars)
summary(fit_2)
fit_3 <- lm(mpg~factor(cyl):wt, data=mtcars)
summary(fit_3)
summary(fit)
lm(mpg ~ I(wt * 0.5) + factor(cyl), data = mtcars)
fit_4 <- lm(mpg ~ I(wt * 0.5) + factor(cyl), data = mtcars)
summary(fit_4)
x <- c(0.586, 0.166, -0.042, -0.614, 11.72)
y <- c(0.549, -0.026, -0.127, -0.751, 1.344)
plot(x,y)
fit_5 <- lm(y~x)
abline(fit_5)
predict(fit_5, newdata = 12)
predict(fit_5, newdata = data.frame(x=12)
)
predict(fit_5, newdata = data.frame(x=12)) - y[5]
hatvalues(fit_5)
x <- c(0.586, 0.166, -0.042, -0.614, 11.72)
y <- c(0.549, -0.026, -0.127, -0.751, 1.344)
fit_6 <- lm(y~x)
dfbetas(fit_6)
plot(x,y)
abline(fit_6)
library(MASS)
data(shuttle)
?shuttle
head(shuttle)
shuttle$auto_id[shuttle$auto=="auto"] = 1
shuttle[shuttle$auto=="auto", "auto_id"] = 1
shuttle[shuttle$auto!="auto", "auto_id"] = 0
shuttle[shuttle$auto != "auto", "auto_id"] = 0
shuttle[shuttle$auto <> "auto", "auto_id"] = 0
data(shuttle)
factor(shuttle$auto)
factor(shuttle$auto, levels = c(0,1))
shuttle$auto.unique
shuttle$auto.unique()
unique(shuttle$auto)
shuttle$auto
factor(shuttle$use)
factor(shuttle$use, levels = c(0,1))
shuttle[shuttle$use=="auto", "use_id"] = 1
shuttle[shuttle$use!="auto", "use_id"] = 0
fit <- glm(use_id ~ wind, family = binomial, data = shuttle)
data(shuttle)
shuttle[shuttle$use=="auto", "use_id"] = 1
shuttle[shuttle$use!="auto", "use_id"] = 0
fit <- glm(use_id ~ wind, family = binomial, data = shuttle)
glm(use_id ~ wind, family = binomial, data = shuttle)
fit$coefficients
1 - fit$coefficients
fit_2 <- glm(use_id ~ wind + magn, family = binomial, data = shuttle)
fit_2
fit_2$coefficients
fit_2$coefficients$windtail
fit_2$coefficients[2]
1 - fit_2$coefficients[2]
fit_3 <- glm(use_id ~ magn + wind, family = binomial, data = shuttle)
fit_3
fit_2
1 - fit_2$coefficients
fit_3 <- glm(1 - use_id ~ wind, family = binomial, data = shuttle)
fit_3
fit_3$coefficients
fit$coefficients
data(InsectSprays)
head(InsectSprays)
glm(spray ~ count, family = poisson, data=InsectSprays)
glm(factor(spray) ~ count, family = poisson, data=InsectSprays)
1/exp(coef(fit)[2])
factor(InsectSprays$spray)
glm(count ~ factor(spray), family = poisson, data=InsectSprays)
glm(count ~ factor(spray) -1, family = poisson, data=InsectSprays)
2730/2674
fit_4 <- glm(count ~ factor(spray) -1, family = poisson, data=InsectSprays)
fit_4
fit_4 <- glm(count ~ factor(spray), family = poisson, data=InsectSprays)
fit_4
1 - fit_4$coefficients[2]
x <- -5:5
y <- c(5.12, 3.93, 2.67, 1.87, 0.52, 0.08, 0.93, 2.05, 2.54, 3.87, 4.97)
knots <- seq(0, 8 * pi, length = 10);
xMat <- cbind(1, x, splineTerms)
splineTerms <- sapply(knots, function(knot) (x > knot) * (x - knot))
xMat <- cbind(1, x, splineTerms)
knots <- seq(-10, 10, length = 10);
xMat <- cbind(1, x, splineTerms)
splineTerms <- sapply(knots, function(knot) (x > knot) * (x - knot))
yhat <- predict(lm(y ~ xMat - 1))
plot(x, y, frame = FALSE, pch = 21, bg = "lightblue", cex = 2)]
plot(x, y, frame = FALSE, pch = 21, bg = "lightblue", cex = 2)
lines(x, yhat, col = "red", lwd = 2)
yhat
yhat
lm(yhta)
lm(yhat)
x
yhat[7] / yhat[6]
yhat[8] / yhat[7]
yhat[7] - yhat[6]
yhat[8] - yhat[7]
knots <- seq(-5, 5, length = 10) * 2;
knots <- -5:5 * 2;
xMat <- cbind(1, x, splineTerms)
splineTerms <- sapply(knots, function(knot) (x > knot) * (x - knot))
yhat <- predict(lm(y ~ xMat - 1))
plot(x, y, frame = FALSE, pch = 21, bg = "lightblue", cex = 2)
lines(x, yhat, col = "red", lwd = 2)
knots <- (-5:5 - 1) * 2;
xMat <- cbind(1, x, splineTerms)
splineTerms <- sapply(knots, function(knot) (x > knot) * (x - knot))
yhat <- predict(lm(y ~ xMat - 1))
plot(x, y, frame = FALSE, pch = 21, bg = "lightblue", cex = 2)
lines(x, yhat, col = "red", lwd = 2)
yhat
fit_4
x < c(7921, 5184, 8836, 4761)
x <- c(7921, 5184, 8836, 4761)
max(x)
max(x) - min(x)
x$s <- x / (max(x) - min(x))
x$s
x
x$f <- c(7921, 5184, 8836, 4761)
x <- data.frame(f = c(7921, 5184, 8836, 4761))
x$s <- x$f / (max(x) - min(x))
x$s <- x$f / (max(x$f) - min(x$f))
x$n <- x$s / mean(x$s)
x$s <- (x$f - mean(x$f)) / max(x$f)
x$s <- (x$f - mean(x$f)) / (max(x$f)-min(x$f))
(x$f - mean(x$f))
(max(x$f)-min(x$f))
setwd("~/R/Projects/Practical Machine Learning")
